<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Стилизация видео с пользовательскими настройками</title>
    </head>
<body>
    <div class="container">
        <h1>Стилизация видео с настройками</h1>
        <input type="file" id="video-upload" accept="video/*">
        <video id="video" loop controls></video>
        <canvas id="canvas" style="display: none;"></canvas>
        <canvas id="resultCanvas" style="display: none;"></canvas>
        <div class="controls">
            <button onclick="addLayer()">Добавить слой</button>
            <button onclick="applyStylizedEffect()">Применить стилизацию</button>
            <button onclick="toggleColorMode()">Переключить цветовой режим</button>
            <button onclick="autoEnhance()">Автоулучшение</button>
            <button id="saveButton">Сохранить как...</button>
            <select id="saveFormat">
                <option value="mp4">MP4</option>
                <option value="gif">GIF</option>
            </select>
        </div>
        <div class="slider-container">
            <div>
                <label class="slider-label" for="color-simplification">Упрощение цветов: <span id="colorValue">50</span></label>
                <input type="range" id="color-simplification" min="10" max="100" value="50">
            </div>
            <div>
                <label class="slider-label" for="contour-threshold">Интенсивность контуров: <span id="contourValue">80</span></label>
                <input type="range" id="contour-threshold" min="10" max="200" value="80">
            </div>
            <div>
                <label class="slider-label" for="noise-level">Интенсивность шума: <span id="noiseValue">5</span></label>
                <input type="range" id="noise-level" min="0" max="20" value="5">
            </div>
            <div>
                <label class="slider-label" for="filter-intensity">Степень наложения фильтра: <span id="intensityValue">1.0</span></label>
                <input type="range" id="filter-intensity" min="0" max="1" step="0.1" value="1.0">
            </div>
            <div>
                <label class="slider-label" for="cartoon-effect">Эффект мультяшности: <span id="cartoonValue">0</span></label>
                <input type="range" id="cartoon-effect" min="0" max="100" value="0">
            </div>
            <div>
                <label class="slider-label" for="blend-mode">Режим наложения:</label>
                <select id="blend-mode">
                    <option value="normal">Обычный</option>
                    <option value="multiply">Умножение</option>
                    <option value="screen">Экран</option>
                    <option value="overlay">Наложение</option>
                    <option value="darken">Затемнение</option>
                    <option value="lighten">Осветление</option>
                </select>
            </div>
        </div>
        <div class="layer-container" id="layerContainer"></div>
    </div>
    </body>
</html>
